@if(passwordEntry$ | async; as passwordEntry){

<header>
  <app-back-button />
  <h2>{{ passwordEntry?.entryName }}</h2>
  <a class="edit-link" routerLink="/entries/edit/{{ passwordEntry?.id }}"
    ><app-icon-pencil
      [style]="{
        width: '2rem',
        fill: 'none',
        stroke: 'black'
      }"
    />
  </a>
</header>

<div class="box border-bottom">
  <span>
    <h3>Website</h3>
    <p>{{ passwordEntry?.websiteUrl }}</p>
  </span>
  <app-icon-open-external [style]="{ width: '2rem' }" />
</div>

<div class="box border-bottom">
  <span>
    <h3>Username</h3>
    <p>{{ passwordEntry?.entryUserName }}</p>
  </span>
  <button (click)="copyToClipboard(passwordEntry?.entryUserName)">
    <app-icon-copy-password [showKeyhole]="false" [style]="{ width: '2rem' }" />
  </button>
</div>

<div class="box">
  <span>
    <h3>Password</h3>
    <p>
      @if(showPassword$ | async; as showPassword) {
      {{ revealedPassword$ | async }}} @else { ****** }
    </p>
  </span>

  <div class="password-actions">
    <button (click)="onShowPassword()">
      <app-icon-eye
        [style]="{
        width: '2rem',
        height: '2rem',
        stroke: 'black',
        fill: 'none',
      }"
      />
    </button>
    <button (click)="copyPasswordToClipboard()">
      <app-icon-copy-password
        [style]="{
      width: '2rem',
      height: '2rem',
      stroke: 'none',
      fill: 'black',
    }"
      />
    </button>
  </div>
</div>

<app-password-strength [password]="revealedPassword$ | async" />

<div class="box border-top border-bottom">
  <span>
    <h3>Notes</h3>
    <p>
      @if(passwordEntry?.notes) {
      {{ passwordEntry?.notes }}
      } @else { No Notes}
    </p>
  </span>
</div>
<div class="dates">
  <h3>Last modified:</h3>
  <p>{{ passwordEntry?.updatedAt | date : "MMM d, y 'at' h:mm a" }}</p>
</div>

<div class="actions">
  <button>
    <app-icon-favorite
      [style]="{
      width: '100%',
      height: '100%',
      stroke: 'black',
      fill: 'none',
    }"
    />
  </button>
  <button>
    <app-icon-tag
      [style]="{
      width: '100%',
      height: '100%',
      stroke: 'black',
      fill: 'none',
    }"
    />
  </button>
  <button (click)="onDelete()">
    <app-icon-trash
      [style]="{
      width: '100%',
      height: '100%',
     stroke: 'black',
      fill: 'none',
     
    }"
    />
  </button>
</div>
} @if(showToast$ | async) {
<div class="toast">Password copied to clipboard!</div>
}
